#!/usr/bin/env ruby

require 'rubygems'
require 'ninja_rope'

game = Game.new
timer = 0
scenario = ""

# construction du sc√©nario
if ARGV.first
  scenario = File.read(ARGV.first)
end

game.scenario =
  ((1..12).map { |x|
    (1..14).map { |y|
      timer += 100
      "#{timer} #{x},#{y} brick"
    }
  } +
  (1..100).map { |i|
    timer += 100
    "#{timer} #{rand 30},#{rand 25} brick"
  }).join("\n")
  
game.music_enabled = false

# boucle principale
game.start
while not game.end?
  game.update
end
